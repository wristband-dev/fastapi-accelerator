<svg width="1600" height="900" xmlns="http://www.w3.org/2000/svg">
  <!-- Define gradients and styles -->
  <defs>
    <!-- Gradients -->
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e9ecef;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="wristbandGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#00D4AA;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00AA81;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="frontendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a1a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#000000;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="backendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0FA896;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#009688;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="gcpGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4A8AF4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4285F4;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="terraformGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5FD6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7B42BC;stop-opacity:1" />
    </linearGradient>
    
    <!-- Shadows and effects -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="4"/>
      <feOffset dx="0" dy="4" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.2"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1600" height="900" fill="url(#bgGrad)"/>
  
  <!-- Title Section -->
  <g id="title">
    <text x="800" y="50" font-family="Arial, sans-serif" font-size="36" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      FastAPI Multi-Tenant Architecture
    </text>
    <text x="800" y="80" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#6c757d">
      Enterprise-ready authentication with Wristband, Next.js, and FastAPI
    </text>
  </g>

  <!-- Main Architecture Flow -->
  
  <!-- Layer 1: User -->
  <g id="user-layer">
    <circle cx="800" cy="150" r="40" fill="#4A90E2" filter="url(#shadow)"/>
    <text x="800" y="160" font-family="Arial, sans-serif" font-size="36" text-anchor="middle" fill="white">ðŸ‘¤</text>
    <text x="800" y="210" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2c3e50">End Users</text>
  </g>

  <!-- Layer 2: Presentation Layer -->
  <g id="presentation">
    <!-- Next.js Frontend -->
    <rect x="100" y="280" width="320" height="200" rx="15" fill="url(#frontendGrad)" filter="url(#shadow)"/>
    <rect x="100" y="280" width="320" height="50" rx="15" fill="#000000"/>
    <text x="260" y="312" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="white">Next.js Frontend</text>
    
    <g transform="translate(120, 350)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">â€¢ React 18+ Components</text>
      <text x="0" y="25" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">â€¢ Server-Side Rendering</text>
      <text x="0" y="50" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">â€¢ Theme Customization</text>
      <text x="0" y="75" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">â€¢ Auth Context & State</text>
    </g>
    
    <!-- Hosting badge -->
    <rect x="320" y="290" width="85" height="28" rx="14" fill="#ffffff" opacity="0.2"/>
    <text x="362" y="308" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">Vercel</text>
  </g>

  <!-- Layer 3: Authentication Layer -->
  <g id="auth">
    <rect x="550" y="280" width="500" height="200" rx="15" fill="url(#wristbandGrad)" filter="url(#shadow)"/>
    <rect x="550" y="280" width="500" height="50" rx="15" fill="#00AA81"/>
    <text x="800" y="312" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="white">Wristband Auth Platform</text>
    
    <!-- Environment boxes -->
    <g id="env-boxes">
      <rect x="580" y="350" width="130" height="110" rx="8" fill="#ffffff" fill-opacity="0.15" stroke="#ffffff" stroke-width="2"/>
      <text x="645" y="375" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">Development</text>
      <text x="645" y="395" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#e0e0e0">domain: dev</text>
      <text x="645" y="415" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#e0e0e0">OAuth2 M2M</text>
      <text x="645" y="432" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#e0e0e0">Local Testing</text>
      
      <rect x="735" y="350" width="130" height="110" rx="8" fill="#ffffff" fill-opacity="0.15" stroke="#ffffff" stroke-width="2"/>
      <text x="800" y="375" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">Staging</text>
      <text x="800" y="395" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#e0e0e0">domain: staging</text>
      <text x="800" y="415" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#e0e0e0">OAuth2 M2M</text>
      <text x="800" y="432" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#e0e0e0">Pre-Production</text>
      
      <rect x="890" y="350" width="130" height="110" rx="8" fill="#ffffff" fill-opacity="0.15" stroke="#ffffff" stroke-width="2"/>
      <text x="955" y="375" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">Production</text>
      <text x="955" y="395" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#e0e0e0">domain: prod</text>
      <text x="955" y="415" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#e0e0e0">OAuth2 M2M</text>
      <text x="955" y="432" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#e0e0e0">Live Environment</text>
    </g>
  </g>

  <!-- Layer 4: Application Layer -->
  <g id="backend">
    <rect x="1180" y="280" width="320" height="200" rx="15" fill="url(#backendGrad)" filter="url(#shadow)"/>
    <rect x="1180" y="280" width="320" height="50" rx="15" fill="#009688"/>
    <text x="1340" y="312" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="white">FastAPI Backend</text>
    
    <g transform="translate(1200, 350)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">â€¢ Python 3.8+ Async</text>
      <text x="0" y="25" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">â€¢ RESTful API Routes</text>
      <text x="0" y="50" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">â€¢ JWT Validation</text>
      <text x="0" y="75" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">â€¢ Multi-Tenant Logic</text>
    </g>
    
    <!-- Hosting badge -->
    <rect x="1380" y="290" width="100" height="28" rx="14" fill="#ffffff" opacity="0.2"/>
    <text x="1430" y="308" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">Cloud Run</text>
  </g>

  <!-- Layer 5: Infrastructure & Data -->
  <g id="infrastructure">
    <!-- Terraform -->
    <rect x="100" y="540" width="380" height="180" rx="15" fill="url(#terraformGrad)" filter="url(#shadow)"/>
    <rect x="100" y="540" width="380" height="50" rx="15" fill="#7B42BC"/>
    <text x="290" y="572" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="white">Infrastructure as Code</text>
    
    <g transform="translate(130, 610)">
      <circle cx="0" cy="0" r="4" fill="#ffffff"/>
      <text x="15" y="5" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">GCP Cloud Run & Artifact Registry</text>
      
      <circle cx="0" cy="25" r="4" fill="#ffffff"/>
      <text x="15" y="30" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">Vercel Project & Domains</text>
      
      <circle cx="0" cy="50" r="4" fill="#ffffff"/>
      <text x="15" y="55" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">GitHub Actions & Secrets</text>
      
      <circle cx="0" cy="75" r="4" fill="#ffffff"/>
      <text x="15" y="80" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">Wristband OAuth Configuration</text>
    </g>
  </g>

  <!-- GCP Services -->
  <g id="gcp">
    <rect x="540" y="540" width="280" height="180" rx="15" fill="url(#gcpGrad)" filter="url(#shadow)"/>
    <rect x="540" y="540" width="280" height="50" rx="15" fill="#4285F4"/>
    <text x="680" y="572" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="white">Google Cloud Platform</text>
    
    <g transform="translate(570, 610)">
      <circle cx="0" cy="0" r="4" fill="#ffffff"/>
      <text x="15" y="5" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">Cloud Run (Containers)</text>
      
      <circle cx="0" cy="25" r="4" fill="#ffffff"/>
      <text x="15" y="30" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">Artifact Registry</text>
      
      <circle cx="0" cy="50" r="4" fill="#ffffff"/>
      <text x="15" y="55" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">Firebase DocStore</text>
      
      <circle cx="0" cy="75" r="4" fill="#ffffff"/>
      <text x="15" y="80" font-family="Arial, sans-serif" font-size="13" fill="#e0e0e0">Service Accounts & IAM</text>
    </g>
  </g>

  <!-- CI/CD -->
  <g id="cicd">
    <rect x="880" y="540" width="620" height="180" rx="15" fill="#24292e" filter="url(#shadow)"/>
    <rect x="880" y="540" width="620" height="50" rx="15" fill="#181717"/>
    <text x="1190" y="572" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="white">CI/CD Pipeline (GitHub Actions)</text>
    
    <!-- Pipeline boxes -->
    <rect x="920" y="610" width="260" height="45" rx="8" fill="#238636" filter="url(#shadow)"/>
    <text x="1050" y="627" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Push to main branch</text>
    <text x="1050" y="644" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#e0e0e0">Auto-deploy to Staging</text>
    
    <rect x="1200" y="610" width="260" height="45" rx="8" fill="#da3633" filter="url(#shadow)"/>
    <text x="1330" y="627" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Create Release</text>
    <text x="1330" y="644" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#e0e0e0">Auto-deploy to Production</text>
    
    <text x="1190" y="685" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#adb5bd">Automated: Build â€¢ Test â€¢ Deploy â€¢ Monitor</text>
  </g>

  <!-- Connection Lines -->
  
  <!-- User to Frontend -->
  <path d="M 800 190 L 260 280" stroke="#4A90E2" stroke-width="3" fill="none" stroke-dasharray="0" opacity="0.6"/>
  <text x="500" y="230" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">HTTPS</text>
  
  <!-- User to Auth -->
  <path d="M 800 190 L 800 280" stroke="#00AA81" stroke-width="3" fill="none" opacity="0.6"/>
  <text x="815" y="240" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Login</text>
  
  <!-- Frontend to Auth -->
  <path d="M 420 380 L 550 380" stroke="#00AA81" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
  <text x="465" y="370" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">Auth Request</text>
  
  <!-- Auth to Backend -->
  <path d="M 1050 380 L 1180 380" stroke="#009688" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
  <text x="1095" y="370" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">Token Validation</text>
  
  <!-- Frontend to Backend -->
  <path d="M 420 400 Q 800 450 1180 400" stroke="#4A90E2" stroke-width="3" fill="none" stroke-dasharray="8,4" opacity="0.6"/>
  <text x="750" y="470" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">API Requests (JWT)</text>
  
  <!-- Backend to GCP -->
  <path d="M 1340 480 L 1340 520 L 680 520 L 680 540" stroke="#4285F4" stroke-width="3" fill="none" stroke-dasharray="8,4" opacity="0.6"/>
  <text x="1000" y="510" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">Data Storage</text>
  
  <!-- Terraform to services -->
  <path d="M 290 540 L 290 500 L 260 500 L 260 480" stroke="#7B42BC" stroke-width="2" fill="none" stroke-dasharray="4,4" opacity="0.5"/>
  <path d="M 290 500 L 800 500 L 800 480" stroke="#7B42BC" stroke-width="2" fill="none" stroke-dasharray="4,4" opacity="0.5"/>
  <path d="M 290 500 L 1340 500 L 1340 480" stroke="#7B42BC" stroke-width="2" fill="none" stroke-dasharray="4,4" opacity="0.5"/>
  
  <!-- Arrow marker -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2c3e50" />
    </marker>
  </defs>

  <!-- Bottom labels -->
  <g id="labels">
    <rect x="50" y="760" width="1500" height="100" rx="15" fill="white" filter="url(#shadow)"/>
    
    <text x="800" y="790" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">Technology Stack</text>
    
    <!-- Tech badges -->
    <g transform="translate(150, 810)">
      <rect x="0" y="0" width="140" height="30" rx="15" fill="#000000"/>
      <text x="70" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Next.js 13+</text>
      
      <rect x="160" y="0" width="140" height="30" rx="15" fill="#00AA81"/>
      <text x="230" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Wristband</text>
      
      <rect x="320" y="0" width="140" height="30" rx="15" fill="#009688"/>
      <text x="390" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">FastAPI</text>
      
      <rect x="480" y="0" width="140" height="30" rx="15" fill="#4285F4"/>
      <text x="550" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">GCP</text>
      
      <rect x="640" y="0" width="140" height="30" rx="15" fill="#7B42BC"/>
      <text x="710" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Terraform</text>
      
      <rect x="800" y="0" width="140" height="30" rx="15" fill="#181717"/>
      <text x="870" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">GitHub</text>
      
      <rect x="960" y="0" width="140" height="30" rx="15" fill="#FFCA28"/>
      <text x="1030" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#2c3e50">Firebase</text>
      
      <rect x="1120" y="0" width="140" height="30" rx="15" fill="#4A90E2"/>
      <text x="1190" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Python 3.8+</text>
    </g>
  </g>
</svg>


